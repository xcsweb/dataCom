(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{506:function(e,a,s){"use strict";s.r(a);var r=s(1),t=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"表单动态验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表单动态验证","aria-hidden":"true"}},[e._v("#")]),e._v(" 表单动态验证")]),e._v(" "),s("hr"),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(" ![](https://user-gold-cdn.xitu.io/2019/3/19/16993d2c2455c953?w=558&h=159&f=png&s=64844)\ncomputed:{\n            validatePhone(){\n                return validatePhone;\n            },\n            validateIdCard(){\n                return validateIdCard;\n            }\n        },\n\n")])])]),s("h1",{attrs:{id:"表单提交验证1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表单提交验证1","aria-hidden":"true"}},[e._v("#")]),e._v(" 表单提交验证1")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('let validArr=[],errArr=[],formData={};\n                let propKey=Object.keys(this.rules)\n                let propArr=propKey;\n                propArr.forEach(key=>{\n                    console.log(key)\n                   this.$refs["formData"].validateField(key,(err)=>{\n                            console.log(key,err)\n                                errArr.push(err)\n                        })\n                })\n                formData=Object.assign(formData,this.formData)\n                if(errArr.every((v)=>v=="")){\n                    validArr.push(true)\n                }else{\n                    validArr.push(false)\n                }\n                if(validArr.every((v)=>v==true)){\n                    this.$axios.post({\n                        url:baseURL+"crmtag/editfollowconfig",\n                        data:{\n                            ...formData\n                        },\n                        success:(res)=>{\n                            this.$message({\n                                message: res.message || "修改成功",\n                                type: "success"\n                            });\n                        }\n                    })\n                }\n')])])]),s("h1",{attrs:{id:"表单提交校验2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表单提交校验2","aria-hidden":"true"}},[e._v("#")]),e._v(" 表单提交校验2")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('this.$refs["formData"].validate((valid) => {\n          if (valid) {\n            this.$axios.post({\n            url:baseURL+"student/insertrefund",\n            data:{\n              ...this.formData\n            },\n            success:(res)=>{\n              this.$message({\n                  message:res.message||"修改成功",\n                  type: \'success\'\n              })\n              this.$store.commit("deleteTabAndGo")\n             }\n          })\n          } else {\n            console.log(\'error submit!!\');\n            return false;\n          }\n        });\n')])])]),s("h1",{attrs:{id:"验证规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证规则","aria-hidden":"true"}},[e._v("#")]),e._v(" 验证规则")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('rules:{\n    tels:[\n        { required:true,message:"必填",trigger:"blur" }  \n    ],\n    content:[\n        { required:true,message:"必填",trigger:"blur" }\n    ]\n}\n\n')])])]),s("h1",{attrs:{id:"重置表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重置表单","aria-hidden":"true"}},[e._v("#")]),e._v(" 重置表单")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("this.$refs[formName].resetFields();\n")])])])])}],!1,null,null,null);a.default=t.exports}}]);